document.addEventListener("DOMContentLoaded", function () {
    setTimeout(() => {
        speak("Hello, I am Omnix, your virtual assistant created by Siddu. How can I assist you today?");
    }, 1000); // Introduces itself 1 second after page loads
});

function speak(text) {
    let speech = new SpeechSynthesisUtterance();
    speech.text = text;
    speech.volume = 1;
    speech.rate = 1;
    speech.pitch = 1;
    speech.lang = "en-US"; // Ensure it speaks in English
    window.speechSynthesis.speak(speech);
}

let btn = document.querySelector("#btn");
let content = document.querySelector("#content");
let listeningText = document.querySelector("#listening");

let speechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
let recognition = new speechRecognition();

recognition.onstart = () => {
    listeningText.style.display = "block"; // Show "Listening..."
    btn.style.display = "none"; // Hide the button
};

recognition.onresult = (event) => {
    let currentIndex = event.resultIndex;
    let transcript = event.results[currentIndex][0].transcript.toLowerCase().trim();
    
    listeningText.style.display = "none"; // Hide "Listening..." text
    btn.style.display = "flex"; // Show the button back
    
    takeCommand(transcript);
};

// Start recognition on button click
btn.addEventListener("click", () => {
    recognition.start();
});

function takeCommand(message) {
    if (message.includes("hello") || message.includes("hey")) {
        speak("Hello, how can I assist you today?");
    } else if (message.includes("who are you")) {
        speak("I am Omnix, your virtual assistant created by Siddu. I can help you with various tasks.");
    } else if (message.includes("how are you")) {
        speak("I'm doing great, thank you for asking! How can I assist you?");
    } else if (message.includes("what can you do")) {
        speak("I can open websites, search for information, provide news updates, assist with tech queries, set alarms, and much more. Just ask!");
    } else if (message.includes("open youtube")) {
        speak("Opening YouTube...");
        window.open("https://youtube.com", "_blank");
    } else if (message.includes("search youtube for")) {
        let query = message.replace("search youtube for", "").trim();
        speak(`Searching YouTube for ${query}...`);
        window.open(`https://www.youtube.com/results?search_query=${query}`, "_blank");
    } else if (message.includes("what is the time")) {
        let currentTime = new Date().toLocaleTimeString();
        speak(`The current time is ${currentTime}`);
    } else if (message.includes("what is the date")) {
        let currentDate = new Date().toLocaleDateString();
        speak(`Today's date is ${currentDate}`);
    } else if (message.includes("open google")) {
        speak("Opening Google...");
        window.open("https://google.com", "_blank");
    } else if (message.includes("search google for")) {
        let query = message.replace("search google for", "").trim();
        speak(`Searching Google for ${query}...`);
        window.open(`https://www.google.com/search?q=${query}`, "_blank");
    } else if (message.includes("tell me a joke")) {
        speak("Why don't scientists trust atoms? Because they make up everything!");
    } else if (message.includes("inspire me")) {
        speak("The only way to do great work is to love what you do. - Steve Jobs");
    } else {
        speak("I'm sorry, I didn't understand that. Can you repeat?");
    }
}














